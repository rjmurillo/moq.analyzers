{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "ignoreDeps": [
    "Microsoft.CodeAnalysis.CSharp",
    "Microsoft.CodeAnalysis.CSharp.Workspaces",
    "Microsoft.CodeAnalysis.Common",
    "Microsoft.CodeAnalysis.Workspaces.Common"
  ],
  "packageRules": [
    {
      "description": "Label major updates for workflow detection",
      "matchUpdateTypes": ["major"],
      "addLabels": ["major"]
    },
    {
      "description": "Automerge non-major updates for development dependencies",
      "matchDepTypes": ["devDependencies"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true
    },
    {
      "description": "Automerge lock file maintenance",
      "matchUpdateTypes": ["lockFileMaintenance"],
      "automerge": true
    },
    {
      "description": "Automerge non-major updates for production dependencies with good test coverage",
      "matchUpdateTypes": ["minor", "patch"],
      "matchCurrentVersion": "!/^0/",
      "automerge": true
    },
    {
      "description": "Analyzer-shipped BCL packages must match minimum supported SDK host. Manual review required. See: https://github.com/rjmurillo/moq.analyzers/issues/850",
      "matchPackageNames": [
        "System.Collections.Immutable",
        "System.Reflection.Metadata",
        "Microsoft.CodeAnalysis.AnalyzerUtilities"
      ],
      "automerge": false,
      "addLabels": ["analyzer-compat"]
    },
    {
      "description": "Benchmark tooling (BenchmarkDotNet, Perfolizer) requires coordinated updates due to transitive dependency constraints. See docs/dependency-management.md.",
      "matchPackageNames": [
        "BenchmarkDotNet",
        "Perfolizer"
      ],
      "groupName": "benchmark-tooling",
      "automerge": false,
      "addLabels": ["benchmark-tooling"]
    },
    {
      "description": "System.CommandLine requires PerfDiff code changes when updated. See: https://github.com/rjmurillo/moq.analyzers/issues/914",
      "matchPackageNames": [
        "System.CommandLine",
        "System.CommandLine.Rendering"
      ],
      "enabled": false
    }
  ],
  "platformAutomerge": true
}
